<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Deklarowanie nowej funkcji</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../../../assets/css/default.css" type="text/css" />
  <script src="../../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Section detailing Declare A New Function" />
  <meta name="rh-index-keywords" content="GML Visual Action - Declare A New Function" />
  <meta name="search-keywords" content="Declare A New Function" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1><img> Deklarowanie nowej funkcji</h1>
  <p>Tej akcji można użyć do utworzenia nowej funkcji zdefiniowanej przez użytkownika, którą można później wywołać w dowolnym miejscu kodu. Funkcja zdefiniowana przez użytkownika to taka, którą definiuje się w celu wykonania zadania, które nie jest objęte wbudowanymi akcjami <span class="notranslate">GML</span> Visual lub funkcjami runnera <span class="notranslate">GML</span>. Mogą one mieć zasięg globalny, instancyjny lub lokalny (więcej informacji o zasięgu można znaleźć <a href="../../../GameMaker_Language/GML_Overview/Variables_And_Variable_Scope.htm">tutaj</a> ); można ich również używać jako <b>konstruktorów</b> do tworzenia <a href="../../../GameMaker_Language/GML_Overview/Structs.htm">struktur</a>. Aby dowiedzieć się więcej na temat używania tej akcji do tworzenia funkcji globalnych, zobacz rozdział <a href="../../Drag_And_Drop_Overview/Action_Block_Functions.htm">Tworzenie funkcji akcji</a>.</p>
  <p>Aby użyć tej akcji, należy dodać ją do zdarzenia lub skryptu i nadać nowej funkcji nazwę. Następnie należy podać wymagane argumenty/parametry, które funkcja będzie przyjmować, oraz wartości domyślne dla argumentów opcjonalnych.</p>
  <p>Jeśli funkcja ma być użyta jako konstruktor (który jest używany do tworzenia <span class="notranslate">struct</span>), musisz zaznaczyć opcję <strong>Konstruktor </strong>, a następnie użyć akcji <a href="New.htm">Nowy</a>, aby utworzyć <span class="notranslate">struct</span> na podstawie funkcji. Możesz także <span class="notranslate">flag</span> określić funkcję jako <b>statyczną</b>, co oznacza, że zostanie ona zdefiniowana tylko raz, bez względu na to, ile razy zostanie wykonana ta akcja. Jeśli funkcja ma być użyta tylko lokalnie w tym samym zdarzeniu i nigdzie indziej, można włączyć opcję <strong>Temp </strong>.</p>
  <p>Po zdefiniowaniu nazwy i parametrów można dołączyć akcje, które mają być uruchamiane po wywołaniu funkcji w kodzie, upuszczając je z boku akcji, jak pokazano na poniższym rysunku:</p>
  <p><img>Przykłady użycia tej akcji zarówno jako zwykłej funkcji, jak i jako funkcji konstruktora można zobaczyć w sekcji &quot;Przykłady rozszerzone&quot; poniżej.</p>
  <p> </p>
  <h4>Składnia działania:</h4>
  <p><img alt="Declare A New Function Icon" class="icon" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/i_Common_Declare_Function.png" /></p>
  <h4>Argumenty:</h4>
  <table>
    <tbody>
      <tr>
        <th>Argument</th>
        <th>Opis</th>
      </tr>
      <tr>
        <td><span class="notranslate">Name</span></td>
        <td>Nazwa nowej funkcji.</td>
      </tr>
      <tr>
        <td><span class="notranslate">Argument [+]</span></td>
        <td>Różne argumenty, które mogą być przekazane do funkcji, oraz ich wartości domyślne, jeśli są opcjonalne.</td>
      </tr>
      <tr>
        <td><span class="notranslate">Constructor</span></td>
        <td>Czy ta funkcja jest konstruktorem.</td>
      </tr>
      <tr>
        <td><span class="notranslate">Static</span></td>
        <td>Czy ta funkcja jest statyczna.</td>
      </tr>
      <tr>
        <td><span class="notranslate">Temp</span></td>
        <td>Czy funkcja jest tymczasowa (co oznacza, że jest używana tylko w ramach bieżącego zdarzenia).</td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h1>Przykłady rozszerzone</h1>
  <h4>Przykład rozszerzony 1</h4>
  <p><img>Powyższy blok akcji zostanie umieszczony w <b>zdarzeniu Create Event</b> instancji lub <span class="notranslate">script</span> i deklaruje nową funkcję o nazwie <span class="inline">set_vec</span> z trzema argumentami: <span class="inline">_x</span>, <span class="inline">_y</span> i <span class="inline">spd</span>. Argumenty te są następnie używane w akcjach zawartych w funkcji do ustawiania kierunku i prędkości instancji, co dzieje się po wywołaniu funkcji. Później wywołasz tę funkcję za pomocą akcji <a href="Function_Call.htm">Function Call</a> w kolejnych zdarzeniach, tak jak poniżej:</p>
  <p><img>Na powyższym rysunku wywołana jest funkcja <span class="inline">set_vec</span>, która zmienia kierunek instancji na wskazujący na pozycję X/Y myszy i ustawia prędkość na 5.</p>
  <p> </p>
  <h4 id="h">Przykład rozszerzony 2</h4>
  <p><img>Powyższy blok akcji zostanie umieszczony w <b>zdarzeniu Create Event</b> instancji lub <span class="notranslate">script</span> i deklaruje nową funkcję <strong>konstruktora</strong> o nazwie <span class="inline">init_char_struct</span> z czterema argumentami: <span class="inline">_name</span>, <span class="inline">_location</span>, <span class="inline">_hp</span> i <span class="inline">_mana</span>, przy czym dwa ostatnie są opcjonalne z domyślną wartością 100 (oznacza to, że jeśli te argumenty nie zostaną określone podczas wywoływania funkcji, zamiast nich zostaną użyte ich wartości domyślne). Argumenty te są następnie używane do tworzenia pewnych zmiennych w ramach tworzonej przez funkcję strony <span class="notranslate">struct</span>.</p>
  <p>Funkcję tę można później wywołać za pomocą akcji <a href="New.htm">Nowy</a> w celu utworzenia strony <span class="notranslate">struct</span>, jak poniżej:</p>
  <p><img>Funkcja zostanie wywołana i zwróci nową stronę <span class="notranslate">struct</span>, która zostanie zapisana w tablicy <span class="inline">char</span>, a strona <span class="notranslate">struct</span> zostanie wypełniona zmiennymi <span class="inline">name</span>, <span class="inline">location</span>, <span class="inline">hp</span> i <span class="inline">mana</span>, ustawionymi na wartości, które zostały przekazane w odpowiednich argumentach w wywołaniu funkcji.</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Powrót: <a href="Common_Actions_Library.htm">Wspólne działania</a></div>
        <div style="float:right">Następnie: <a href="Assign_Variable.htm">Przypisz zmienną</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2022 Wszystkie prawa zastrzeżone.</span></h5>
  </div>
  <!-- KEYWORDS
Action - Declare A New Function
-->
  <!-- TAGS
action_declare_function
-->
</body>
</html>