<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Odwracanie plików</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../../assets/css/default.css" type="text/css" />
  <script src="../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Section that covers Source Control reverting files" />
  <meta name="rh-index-keywords" content="Source Control - Reverting Files" />
  <meta name="search-keywords" content="revert files" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>Odwracanie plików</h1>
  <p>W poprzednich rozdziałach dowiedziałeś się, jak <a href="Repository_Options.htm">utworzyć repozytorium</a> i wysyłać <a href="Standard_Workflow.htm">do niego</a> poprawki, ale co się stanie, jeśli popełnisz błąd i będziesz chciał cofnąć się do poprzedniej poprawki? Popełnijmy celowy błąd i zobaczmy, jak sobie z nim poradzić...</p>
  <p>Najpierw utwórz nowy zasób - w tym przykładzie będzie to zasób <span class="notranslate">Script</span> - i na początku nie zobaczysz żadnej ikony statusu, ponieważ jeśli chodzi o <span class="notranslate">source control</span>, to jeszcze nie istnieje. W zasobie <span class="notranslate">script</span> dodajemy prostą linijkę kodu, np:</p>
  <p class="code">show_debug_message(&quot;Hello World&quot;);</p>
  <p>Jeśli teraz zamkniesz edytor kodu, plik <span class="notranslate">script</span> zostanie zapisany, a w <a href="../../Introduction/The_Asset_Browser.htm">Przeglądarce</a> zasobów pojawi się obok niego ikona zmodyfikowanego pliku <img>. Teraz otwórz okno <strong>Zobowiązania </strong>, a zobaczysz, że zmiany są czterostopniowe, ponieważ nowe zasoby są automatycznie dodawane:</p>
  <p><img>Wprowadzane zmiany będą następujące:</p>
  <ul class="colour">
    <li>plik projektu <span class="inline">.yyp</span> </li>
    <li>plik widoku</li>
    <li>sama strona <span class="notranslate">GML</span> <span class="notranslate">script</span> </li>
    <li>plik <span class="inline">.yy</span>, który się do niego odwołuje</li>
  </ul>
  <p>Należy wpisać komunikat commit, a następnie kliknąć przycisk <strong>Commit </strong>, tak jak to opisaliśmy wcześniej. Teraz wracamy do naszej strony <span class="notranslate">script</span> i zmieniamy wiersz kodu na (na przykład):</p>
  <p class="code">show_debug_message(&quot;Hello World, how are you?&quot;);</p>
  <p>Gdy zamkniemy edytor kodu, obok strony <span class="notranslate">script</span> ponownie pojawi się czerwona ikona <img>. Zdaliśmy sobie sprawę, że popełniliśmy błąd w naszym kodzie i chcemy cofnąć się do poprzedniej wersji, aby go naprawić (oczywiście można by po prostu otworzyć stronę <span class="notranslate">script</span> i łatwo go naprawić, ponieważ przykład jest tak prosty, ale w dużych projektach takie podejście zwykle nie jest wykonalne). W tym celu należy <strong>cofnąć </strong>nasze zmiany.</p>
  <p>Aby cofnąć zmianę, musimy najpierw ponownie otworzyć okno zatwierdzania, a więc ponownie przechodzimy do sekcji <strong>Kontrola źródła</strong> &gt; Zatwierdź <strong>zmiany</strong>. Nasz zmieniony plik zostanie ponownie wystawiony na scenie, gotowy do zatwierdzenia, ale to nie jest to, czego chcemy, więc klikamy przycisk <strong>Unstage All</strong>, aby usunąć go z obszaru wystawiania.</p>
  <p>Jeśli teraz klikniemy prawym przyciskiem myszy <strong><img></strong> na pliku, który zmieniliśmy, pojawi się menu kontekstowe z opcją <strong>Przywróć ścieżkę</strong>:</p>
  <p><img>Po wybraniu tej opcji pliki zostaną przywrócone do poprzedniego stanu.</p>
  <p class="note"><strong>WAŻNE!</strong> Podczas przywracania zostanie wyświetlony komunikat z prośbą o ponowne załadowanie lub zapisanie bieżącego projektu, ponieważ mechanizm sprawdzania plików wykrył zmiany na dysku:<br>
    <img>Musisz kliknąć przycisk Przeładuj, a nie Zapisz, ponieważ zapisanie spowoduje zachowanie tego, co jest w pamięci, a nie ponowne załadowanie odwracanych plików.
  </p>
  <p>Jest to świetne rozwiązanie, gdy edytujesz coś i chcesz cofnąć zmiany bez wcześniejszego wykonania commitu, ale co zrobić, gdy już dokonałeś jednej lub więcej zmian i chcesz cofnąć się do <em>poprzedniego </em>commitu? Cóż, edytujmy ponownie nasz <span class="notranslate">script</span>, aby powiedzieć:</p>
  <p class="code">show_debug_message(&quot;This is a bad idea&quot;);</p>
  <p>Teraz zatwierdzamy go tak jak poprzednio, aby uzyskać go pod adresem <span class="notranslate">source control</span>. To był zły pomysł i chcemy go cofnąć, co oznacza, że na początek musimy otworzyć okno <strong>Kontrola źródła</strong> &gt; <strong>Wyświetl historię</strong>. W tym oknie zobaczymy listę wszystkich poprzednich commitów, począwszy od początkowego commitu, poprzez commit dla <span class="notranslate">script</span>, a skończywszy na commicie dla <span class="notranslate">script</span>, który został uznany za &quot;zły pomysł&quot;:</p>
  <p><img>Mamy teraz dwie możliwości. Możemy przywrócić całą rewizję - co spowoduje przywrócenie wszystkich plików, które zostały zmienione, do tych z wybranego commitu - lub możemy wybrać opcję przywrócenia <span class="notranslate">path</span> - co spowoduje przywrócenie pojedynczego pliku. Na początek wybierzmy pierwszą opcję:</p>
  <ul class="colour">
    <li>Kliknij prawym przyciskiem myszy <strong><img></strong> nasz drugi commit w oknie <strong>Commit History</strong> (commit &quot;Hello World&quot;).</li>
    <li>Wybierz opcję <strong>Revert To This Revision (Przywróć tę</strong> wersję), a następnie wybierz opcję <strong>ReLoad (Załaduj ponownie</strong> ) w komunikacie ostrzegawczym.</li>
  </ul>
  <p>Na stronie <span class="notranslate">script</span> powinna pojawić się czerwona ikona stanu <img>, a jeśli ją otworzymy, uzyskamy następujący obraz:</p>
  <p><img>Następnie możemy wykonać commit projektu i wrócić do punktu wyjścia. Możemy jednak cofnąć to działanie dla pliku i odzyskać nasz &quot;zły pomysł&quot; commit, wykonując następujące czynności:</p>
  <ul class="colour">
    <li>Otwórz okno <strong>Commit Changes</strong>.</li>
    <li>Usuń stronę <span class="notranslate">script</span>, na której znajduje się kod &quot;Hello World&quot;.</li>
    <li>Kliknij prawym przyciskiem myszy <strong><img></strong> i <strong>Przywróć ścieżkę</strong>.</li>
  </ul>
  <p>Teraz znów mamy w projekcie błędny plik! Cóż, możemy skorzystać z okazji i przywrócić tylko ten plik <span class="notranslate">path</span> zamiast przywracać wszystko do poprzedniej wersji. W tym celu należy wykonać następujące czynności:</p>
  <ul class="colour">
    <li>Otwórz okno <strong>Historia przeglądania</strong>.</li>
    <li>Kliknij na drugi commit (commit &quot;Hello World&quot;).</li>
    <li>Kliknij prawym przyciskiem myszy <strong><img></strong> na naszej stronie <span class="notranslate">script</span> <span class="notranslate">GML</span> w panelu Pliki i wybierz polecenie <strong>Przywróć ścieżkę</strong>.</li>
  </ul>
  <p>Powinniśmy powrócić do naszego kodu &quot;Hello World&quot;, a następnie możemy wykonać nowy commit, aby ponownie zaktualizować stronę <span class="notranslate">source control</span> o poprawiony plik.</p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Powrót: <a href="../Source_Control.htm">Kontrola źródła</a></div>
        <div style="float:right">Następny: <a href="Cloning_A_Repository.htm">Klonowanie repozytorium</a> </div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2021 Wszystkie prawa zastrzeżone.</span></h5>
  </div>
  <!-- KEYWORDS
Source Control Reverting Files
reverting files
-->
  <!-- TAGS
source_control_revert
-->
</body>
</html>