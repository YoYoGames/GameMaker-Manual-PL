<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <title>Sprite'y bez mapy bitowej</title>
  <meta name="topic-status" content="Draft" />
  <link rel="stylesheet" type="text/css" href="../../assets/css/default.css" />
  <script src="../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Section explaining non-bitmap sprites in GameMaker" />
  <meta name="search-keywords" content="SWF,Spine,skeleton animation,vector sprites" />
  <meta name="rh-index-keywords" content="Texture Goups - Non-Bitmap Sprites,SWF,Spine" />
</head>
<body>
  <h1>Sprite'y bez mapy bitowej</h1>
  <p><span data-keyref="GameMaker Name">GameMaker</span> obsługuje nie-bitmapy <span class="notranslate">sprites</span> w postaci plików <a class="glossterm" data-glossterm="wektor" href="#">wektorowych</a> <span class="inline">SWF </span>lub plików <strong>Spine Skeletal Animation</strong>. Oba te formaty mają swoje wady i zalety, a w dwóch poniższych sekcjach wyjaśniono, jak importować je do <a href="../../The_Asset_Editors/Sprites.htm">edytora sprite</a> 'ów, a także podano nieco informacji o sposobie ich rysowania.</p>
  <h2>Animacja szkieletowa <span class="notranslate">Sprites</span> (<span class="notranslate">Spine</span>)</h2>
  <p>Strona <span class="notranslate">sprite</span> wykonana z wykorzystaniem animacji szkieletowej to taka, w której utworzono podstawowy &quot;szkielet&quot; i animuje się go, używając klatek kluczowych do poruszania częściami składowymi szkieletu w czasie. Ten szkielet jest następnie nakładany na skórę z <a class="glossterm" data-glossterm="atlas tekstur" href="#">atlasu tekstur</a>, a wynikowa animacja eksportowana do jednego z wielu typów plików. Program <span data-keyref="GameMaker Name">GameMaker</span> pozwala importować tego typu pliki <span class="notranslate">sprite</span>, o ile zostały wyeksportowane jako pliki w formacie <span class="inline">*.json</span> i mają poprawnie skojarzony plik atlasu <span class="notranslate">texture</span> (<span class="inline">*.atlas</span>) oraz plik obrazu (jako <span class="inline">*.png</span>) <em>w tym samym katalogu</em>.</p>
  <p><img>Obecnie <span data-keyref="GameMaker Name">GameMaker</span> może <strong>importować jedynie obrazy wektorowe z plików w formacie JSON, tworzonych przez program <a href="http://esotericsoftware.com/">Spine</a></strong>, jednak sposób importowania ich do programu jest niemal identyczny jak w przypadku dodawania zwykłego obrazu bitmapowego. Aby dodać animację szkieletową, musisz utworzyć nową stronę <span class="notranslate">sprite</span>, co spowoduje wyświetlenie standardowego okna dialogowego <strong>Load Sprite</strong>, tylko tutaj musisz się upewnić, że z filtra plików na dole wybrałeś <span class="inline">*.json</span>:</p>
  <p><img alt="Spine UI" class="center" src="../../assets/Images/Settings/Spine_Example.png" /></p>
  <p>Po naciśnięciu przycisku &quot;wczytaj&quot; animacja szkieletowa zostanie dodana do <a href="../../Introduction/The_Asset_Browser.htm">przeglądarki zasobów</a> jako plik <span class="notranslate">sprite</span>, a w miarę przetwarzania pliku będzie wyświetlany pasek postępu. Pamiętaj, że w zależności od złożoności pliku może to potrwać chwilę lub dwie. Po zakończeniu przetwarzania nastąpi powrót do okna dialogowego właściwości <span class="notranslate">sprite</span>, które będzie teraz wyglądać następująco:</p>
  <p><img>Po zaimportowaniu animacji możesz ustawić właściwości kolizji, ale pamiętaj, że jesteś ograniczony do używania tylko kolizji precyzyjnych lub kolizji typu bounding box, a dane kolizji dla animacji szkieletowej są pobierane z dostarczonych danych. <span data-keyref="GameMaker Name">GameMaker</span> nie generuje żadnej maski kolizji, jeśli brakuje danych w importowanym pliku, co oznacza, że nie uzyskasz działających kolizji, jeśli maski nie są poprawnie ustawione w programie używanym do tworzenia importowanego obrazu.</p>
  <p class="note"><span class="note">UWAGA</span> Ze względu na złożoność animacji szkieletowych obraz podglądu wyświetlany w edytorze <span class="notranslate">sprite</span> nie ma na celu dokładnego odwzorowania animacji, ale raczej przedstawienie prostego obrazu przedstawiającego animację do wizualizacji w edytorze <span class="notranslate">room</span>.</p>
  <p>W przeciwieństwie do bitmapy <span class="notranslate">sprites</span>, zaimportowanej animacji szkieletowej <span class="notranslate">sprite</span> <strong>nie</strong> można w żaden sposób <strong>modyfikować w edytorze</strong>, ale w witrynie <span class="notranslate">GameMaker Language</span> (<span class="notranslate">GML</span>) dostępnych jest wiele funkcji, których można używać do zmiany skórek, ustawiania właściwości i sterowania innymi aspektami animacji. Nie można także ustawić żadnych opcji <span class="notranslate">texture</span> dla <span class="notranslate">sprite</span>, ponieważ <span class="notranslate">GameMaker</span> będzie korzystać z dostarczonego atlasu <span class="notranslate">texture</span>, który został utworzony przez program generujący <span class="notranslate">sprite</span>.</p>
  <p>Podczas importowania animacji szkieletowej <span class="notranslate">sprites</span> należy pamiętać o kilku rzeczach, z których najważniejszą jest to, że niektóre funkcje rysowania <span class="notranslate">sprite</span> i zarządzania <span class="notranslate">sprite</span> nie są obsługiwane z powodów technicznych, zwłaszcza te funkcje rysowania, które rysują tylko część <span class="notranslate">sprite</span> lub w jakiś sposób &quot;przekrzywiają&quot; pozycję (zobacz poszczególne <a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/Sprites_And_Tiles.htm"><span class="inline">draw_sprite_*()</span></a> funkcje, aby uzyskać szczegółowe informacje na ten temat). Jednak podstawowe funkcje rysowania <span class="notranslate">sprite</span> są w pełni obsługiwane, podobnie jak wbudowane zmienne <span class="notranslate">sprite</span>. Oprócz tych funkcji i zmiennych można także ustawiać i zmieniać właściwości animacji, używając specjalnych funkcji <span class="inline">skeleton_*</span>, których lista i objaśnienia znajdują się w rozdziale dotyczącym <a href="../../GameMaker_Language/GML_Reference/Asset_Management/Sprites/Skeletal_Animation/Skeletal_Animation.htm">Animacji szkieletowych</a>.</p>
  <h2>Wektor <span class="notranslate">Sprites</span> (SWF)</h2>
  <p>Zasadniczo wszystkie strony <span class="notranslate">sprites</span> w <span class="notranslate">GameMaker</span> używają map bitowych, które - choć elastyczne pod względem zawartości - nakładają ograniczenia zarówno na rozmiar, jak i liczbę klatek możliwych do uzyskania w witrynie <span class="notranslate">sprite</span>, zanim zużycie pamięci stanie się zbyt duże. Strona wektorowa <span class="notranslate">sprites</span> obchodzi te ograniczenia, przechowując i rysując swoją zawartość w inny sposób: zamiast siatki pikseli, która może stać się klockowata lub rozmyta przy skalowaniu, jest ona rysowana jako trójkąty przy użyciu matematyki wektorowej, które można skalować w górę (lub w dół) bez utraty definicji, jak pokazano na poniższym obrazie:</p>
  <p><img>Aby ułatwić wizualizację tego procesu, na poniższym obrazku przedstawiono ten sam wektor Strażak <span class="notranslate">sprite</span>, tylko teraz widać wielokąty, które są używane do tworzenia obrazu w programie <span data-keyref="GameMaker Name">GameMaker</span>:</p>
  <p><img>Jednak w przypadku programowania gier nic nie jest za darmo, a kompromis w przypadku wektorowej strony <span class="notranslate">sprites</span> polega na tym, że ich rysowanie jest bardziej kosztowne dla procesora niż w przypadku strony bitmapowej <span class="notranslate">sprites</span>, a ta różnica w szybkości rośnie wraz ze wzrostem złożoności importowanej animacji. Ponadto, w przeciwieństwie do bitmap <span class="notranslate">sprites</span>, ich złożoność wizualna ma wpływ na wykorzystanie pamięci. Biorąc to pod uwagę, umożliwiają one dodawanie dużych animacji graficznych w sposób, który byłby niemożliwy przy użyciu tradycyjnej mapy bitowej <span class="notranslate">sprites</span>.</p>
  <p>Z drugiej strony równania wydajnościowego, ponieważ strona wektorowa <span class="notranslate">sprites</span> rysuje tylko te piksele, które są absolutnie wymagane (w przeciwieństwie do strony bitmapowej <span class="notranslate">sprites</span>, która &quot;rysuje&quot; także pustą przestrzeń wokół obrazu), może być ona tańsza z punktu widzenia procesora graficznego. Ponadto wektorowe strony <span class="notranslate">sprites</span> są na ogół znacznie mniejsze niż ich odpowiedniki bitmapowe - w powyższym przykładzie strażaka rozmiary różnych typów stron <span class="notranslate">sprite</span> są następujące:</p>
  <p class="code">Bitmap at 70x68 = 4x70x68 bytes x 12 frames = 223k<br />
    Vector = 54k</p>
  <p>Jeśli rozdzielczość sprite'a zostanie zwiększona czterokrotnie:</p>
  <p class="code">Bitmap at 280x272 = 4x280x272 bytes x 12 frames = 3570k<br />
    Vector = 54k</p>
  <p>Jak więc widać, dzięki zastosowaniu wektora <span class="notranslate">sprites</span> można potencjalnie zaoszczędzić sporo pamięci, a w przyszłości można jeszcze zaoszczędzić sporo miejsca.</p>
  <p>Obecnie program <span data-keyref="GameMaker Name">GameMaker</span> ma <em>ograniczoną </em>obsługę plików wektorowych <span class="notranslate">sprites</span>. i może importować obrazy wektorowe tylko z plików w formacie <span class="inline">SWF</span>. Sposób importowania ich do programu jest niemal identyczny jak w przypadku dodawania zwykłego obrazu bitmapowego. Aby dodać obraz wektorowy <span class="notranslate">sprite</span>, utwórz nowy plik <span class="notranslate">sprite</span>, co spowoduje wyświetlenie standardowego okna dialogowego Load <span class="notranslate">Sprite</span>, ale upewnij się, że z dolnego filtra plików wybrałeś <span class="inline">*.swf</span>.</p>
  <p><img>Naciśnięcie przycisku &quot;załaduj&quot; spowoduje dodanie obrazu wektorowego lub animacji do <a href="../../Introduction/The_Asset_Browser.htm">Przeglądarki zasobów</a>, z paskiem postępu wyświetlanym w miarę przetwarzania pliku. Należy pamiętać, że w zależności od złożoności pliku może to trochę potrwać (do minuty w przypadku bardziej skomplikowanych animacji). Po zakończeniu przetwarzania nastąpi powrót do okna dialogowego właściwości <span class="notranslate">sprite</span>, które będzie teraz wyglądać następująco:</p>
  <p><img>Edytor <span class="notranslate">sprite</span> nie uległ większym zmianom, ale teraz przycisk <strong>Edytuj obraz</strong> został wyszarzony i nie można go kliknąć, ponieważ w tym rodzaju <span class="notranslate">sprite</span> nie ma żadnych bitmap do edycji. Po drugie, wszystkie opcje <span class="notranslate">texture</span> również zostały wyszarzone. Pliki SWF <span class="notranslate">sprites</span> są oparte na matematyce i jako takie nie mają zwykle powiązań z <span class="notranslate">textures</span>, więc żadna z dostępnych opcji nie ma zastosowania w przypadku tego rodzaju <span class="notranslate">sprite</span>.</p>
  <p class="note"><span class="note">UWAGA</span> Wygląd obrazu w wybranym edytorze podglądu nie będzie identyczny z wyglądem w grze ani w oknie podglądu w edytorze <span class="notranslate">sprite</span>. Obraz wektorowy zostanie zaimportowany w rozmiarze, w jakim został utworzony, co niekoniecznie odpowiada rozmiarowi wyświetlanemu w oknie podglądu (przeglądarki zazwyczaj skalują obraz, aby go dopasować).</p>
  <p>Jednym z dodatków do Edytora <span class="notranslate">Sprite</span> jest możliwość ustawienia <em>jakości </em>wektora <span class="notranslate">sprite</span> podczas rysowania za pomocą suwaka <strong>Precyzja SWF</strong>, znajdującego się u góry. Spowoduje to po prostu zmniejszenie lub zwiększenie liczby trójkątów używanych do generowania strony <span class="notranslate">sprite</span> - wartość około 50% jest zwykle wystarczająca dla większości gier - należy jednak poeksperymentować z tą wartością, jeśli używasz ekstremalnego skalowania lub masz problemy z wydajnością.</p>
  <p>Podczas importowania wektorowych stron <span class="notranslate">sprites</span> należy pamiętać o kilku rzeczach, z których najważniejszą jest to, że niektóre funkcje rysowania <span class="notranslate">sprite</span> i zarządzania <span class="notranslate">sprite</span> nie są obsługiwane z powodów technicznych, w szczególności funkcje rysowania, które rysują tylko część strony <span class="notranslate">sprite</span> lub które w jakiś sposób &quot;przekrzywiają&quot; położenie (zobacz poszczególne <a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/Sprites_And_Tiles.htm"><span class="inline">draw_sprite_*()</span></a> funkcje, aby uzyskać szczegółowe informacje na ten temat). Jednak podstawowe funkcje rysowania <span class="notranslate">sprite</span> są w pełni obsługiwane, podobnie jak wbudowane zmienne <span class="notranslate">sprite</span>. Można także ustawić różne wartości <a class="glossterm" data-glossterm="antyaliasing" href="#">antyaliasingu</a> (AA) dla rysowanego pliku SWF <span class="notranslate">sprites</span> za pomocą funkcji <span class="inline"><a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/draw_enable_swf_aa.htm">draw_enable_swf_aa()</a></span>, <span class="inline"><a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/draw_get_swf_aa_level.htm">draw_get_swf_aa_level()</a></span> lub <span class="inline"><a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/draw_set_swf_aa_level.htm">draw_set_swf_aa_level()</a></span>.</p>
  <p>Należy również pamiętać o następujących kwestiach:</p>
  <ul class="colour">
    <li>Podczas importowania pliku <span class="inline">*.SWF</span> <em>nie </em>jest obsługiwany skrypt Actionscript, więc jeśli SWF wymaga jego poprawnego działania, prawdopodobnie nie będzie działać poprawnie. Podobnie w przypadku osadzonych klipów filmowych, które mają własną stronę <span class="notranslate">timeline</span>, w całej animacji będzie wyświetlana tylko pierwsza klatka - wszystkie animacje muszą być wyświetlane na głównej stronie <span class="notranslate">timeline</span>.</li>
    <li>Jeśli plik wektorowy zawiera szczególnie drobne szczegóły, może się zdarzyć, że w wynikowym pliku <span class="notranslate">sprites</span> pojawią się dziury lub dziwne trójkąty. Dzieje się tak dlatego, że w małych skalach geometria może się czasami zlewać, tworząc kształty, które nie są dobrze triangulowane. W takim przypadku masz dwie opcje - możesz przeskalować zawartość pliku wektorowego, co da importerowi więcej <span class="notranslate">room</span> do zabawy, lub możesz spróbować zmniejszyć poziom szczegółowości łamanej strony <span class="notranslate">object</span>.</li>
    <li><span data-keyref="GameMaker Name">GameMaker</span> używa rozmiaru sceny w SWF jako granic wynikowej strony <span class="notranslate">sprite</span>. Jeśli jednak cokolwiek znajduje się na scenie poza tymi granicami, to i tak zostanie narysowane. Oznacza to, że powinieneś unikać umieszczania czegokolwiek poza granicami sceny, jeśli nie chcesz, aby było wyświetlane, lub użyć warstwy maski, aby ograniczyć rysowanie do tego obszaru.</li>
    <li>Rozmiar sceny ma również wpływ na rozmiar generowanych masek kolizji, dlatego jeśli masz duży rozmiar sceny i wiele klatek animacji, możesz potencjalnie zużyć dużo pamięci. Dlatego precyzyjnych masek kolizji należy używać tylko wtedy, gdy jest to naprawdę konieczne.</li>
    <li>Ponieważ plik SWF jest tworzony z wielu warstw, z których niektóre potencjalnie zachodzą na siebie, alfa nie działa tak, jak w przypadku mapy bitowej <span class="notranslate">sprites</span> - nakładające się obszary nie będą wyglądać tak samo przezroczyście jak inne części strony <span class="notranslate">sprite</span>, ponieważ piksele są tam rysowane wielokrotnie.</li>
    <li>Obsługiwane <em>są </em>wypełnienia bitmapowe, jednak w przypadku stosowania wypełnień bitmapowych w postaci kafelków w pliku SWF należy upewnić się, że bitmapa ma rozmiar potęgi drugiej, w przeciwnym razie nie będzie prawidłowo <span class="notranslate">tile</span>. Obsługiwane jest również renderowanie tekstu, ale aby był on widoczny w pliku wynikowym <span class="notranslate">font</span>, należy go osadzić w pliku SWF <span class="notranslate">sprite</span>. Ponadto obecnie obsługiwany jest tylko tekst jednoliniowy wyrównany do lewej strony.</li>
  </ul>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Powrót: <a href="../Texture_Groups.htm">Grupy tekstur</a></div>
        <div style="float:right">Następny: <a href="Texture_Pages.htm">Strony tekstur</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2022 Wszystkie prawa zastrzeżone.</span></h5>
  </div>
</body>
</html>