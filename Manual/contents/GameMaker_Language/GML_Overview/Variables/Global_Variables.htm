<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Zmienne globalne</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../../../assets/css/default.css" type="text/css" />
  <script src="../../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page explaining global variables" />
  <meta name="rh-index-keywords" content="global,globalvar,Global Variables" />
  <meta name="search-keywords" content="global,global variables,globalvar" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>Zmienne globalne</h1>
  <p>Podstawowy opis zmiennej <strong>globalnej </strong>to taka, która po zadeklarowaniu nie należy do żadnej konkretnej instancji, a mimo to może być dostępna dla wszystkich. Podobnie jak zmienne <a href="Local_Variables.htm">lokalne</a>, zmienne globalne muszą być zadeklarowane przy użyciu identyfikatora, ale w przeciwieństwie do zmiennych lokalnych, zmienna globalna pozostaje w pamięci <em>do końca gry</em>. Można więc utworzyć zmienną globalną, aby śledzić (na przykład) liczbę pocisków, które ma gracz, a następnie aktualizować tę zmienną w różnych momentach gry, z dowolnej instancji lub funkcji i w dowolnym czasie. Zasadniczo zmienna globalna nie należy do żadnej konkretnej instancji i może być dostępna, zmieniana i używana przez wszystkie instancje, a wszelkie zmiany dokonane w zmiennej są &quot;globalne&quot;, w tym sensie, że wszystkie instancje korzystające z tej zmiennej będą dotknięte zmianami. Przyjrzyjmy się przykładowi:</p>
  <p class="code">global.food = 5;</p>
  <p>Deklarujemy zmienną &quot;<span class="inline">food</span>&quot;, pisząc najpierw &quot;<span class="inline">global</span>&quot;, a następnie &quot;<span class="inline">.</span>&quot;, aby poinformować program <span data-keyref="GameMaker Name">GameMaker</span>, że zmienna ta ma teraz zasięg globalny. Od tej pory będziemy musieli używać tej formy za każdym razem, gdy będziemy chcieli uzyskać dostęp do tej zmiennej lub zmienić ją w jakikolwiek sposób. Stworzyliśmy więc nową zmienną o nazwie &quot;<span class="inline">food</span>&quot; i zadeklarowaliśmy ją jako globalną. Teraz każda instancja lub funkcja może używać i zmieniać tę zmienną w dowolny sposób, a wszystkie inne instancje będą to &quot;widzieć&quot;. Na przykład możemy mieć inną żywność <span class="notranslate">object</span>, z którą gracz się zderzy, a w zdarzeniu kolizji mamy:</p>
  <p class="code">global.food +=1;</p>
  <p>Mamy też inną stronę <span class="notranslate">object</span>, która rysuje tę wartość w następujący sposób:</p>
  <p class="code">draw_text(32, 32, &quot;food = &quot; + string(global.food));</p>
  <p>Dzięki zmiennym globalnym możemy zmieniać wartości i widzieć, że zmiany te są odzwierciedlone we wszystkich instancjach <span class="notranslate">objects</span>, które odwołują się do tej zmiennej. Podobnie jak w przypadku zmiennych <i>lokalnych</i>, należy uważać, aby nie nazywać zmiennych globalnych tak samo jak zmiennych instancji, ponieważ może to powodować problemy i sprawiać, że do gry będą wkradać się błędy wynikające z nakładania się zmiennych, co czasami może być trudne do usunięcia. Generalnie powinieneś mieć jedną stronę <span class="notranslate">object</span>, na której deklarujesz wszystkie zmienne globalne na samym początku gry (na przykład w <a href="../../../The_Asset_Editors/Object_Properties/Other_Events.htm">zdarzeniu Room Start Event</a> pierwszego obiektu umieszczonego na pierwszej stronie <span class="notranslate">room</span> gry) lub jedną <a href="../Script_Functions.htm">funkcję skryptu</a>, która deklaruje je wszystkie razem, ponieważ w ten sposób masz wygodne miejsce, do którego możesz wrócić i odwołać się do wszystkiego naraz, jeśli chcesz sprawdzić nazwę zmiennej lub zmienić jej wartość.</p>
  <p><span data-keyref="GameMaker Name">GameMaker</span> ma też kolekcję &quot;wbudowanych&quot; zmiennych globalnych, więc powinieneś o nich wiedzieć, ponieważ możesz nazwać tak samo jedną ze swoich zmiennych instancji lub mieć własną zmienną globalną o tej samej nazwie i zastanawiać się, dlaczego pojawiają się błędy! Łatwo je jednak zauważyć, ponieważ w edytorze kodu są one wyświetlane w innym kolorze, a także pojawiają się na dolnym pasku autouzupełniania. Większość wbudowanych zmiennych globalnych ma bardzo konkretne zastosowania, wymienione w odpowiednich rozdziałach podręcznika - są jednak dwie ważne zmienne, które są często używane, a nie zostały wymienione w innych miejscach:</p>
  <ul class="colour">
    <li><a href="Builtin_Global_Variables/async_load.htm"><span class="inline">async_load</span></a></li>
    <li><span class="inline"><a data-xref="{title}" href="../../GML_Reference/Game_Input/Gesture_Input/event_data.htm">event_data</a></span></li>
  </ul>
  <p>Istnieją również trzy <b>przestarzałe</b> wbudowane zmienne globalne, o których należy pamiętać (zmienne te są przeznaczone wyłącznie do obsługi starszych projektów z poprzednich wersji <span class="notranslate">GameMaker</span> i powinny <b><i>nie mogą być używane w nowych projektach</i></b>):</p>
  <ul class="colour">
    <li><a href="Builtin_Global_Variables/score.htm"><span class="inline">score</span></a></li>
    <li><a href="Builtin_Global_Variables/health.htm"><span class="inline">health</span></a></li>
    <li><a href="Builtin_Global_Variables/lives.htm"><span class="inline">lives</span></a></li>
  </ul>
  <p>Wreszcie, istnieją dwie zmienne, które można wykorzystać na stronie <span class="notranslate">script</span> funkcje i metody:</p>
  <ul class="colour">
    <li><span class="inline"><a href="Builtin_Global_Variables/argument.htm">argument</a></span></li>
    <li><span class="inline"><a href="Builtin_Global_Variables/argument_count.htm">argument_count</a></span></li>
  </ul>
  <p>Do deklarowania zmiennych globalnych można również użyć następującej formy, ale jest to <i><b>dołączone tylko dla zachowania kompatybilności wstecznej</b></i>i nie jest zalecane używanie tej formy w nowych projektach, ponieważ przyszłe wersje <span class="notranslate">GameMaker</span> mogą jej nie obsługiwać.</p>
  <p>Drugą formą tworzenia zmiennych globalnych jest zadeklarowanie ich jako takich za pomocą deklaracji <span class="inline">globalvar</span>, podobnie jak w przypadku zmiennej lokalnej za pomocą deklaracji <span class="inline">var</span>.</p>
  <p class="note"><b>WAŻNE!</b> Deklaracja <span class="inline">globalvar</span> jest <b>przestarzała</b> i jest obsługiwana tylko do starszych celów. Do oznaczania zmiennych globalnych należy <b>zawsze</b> używać identyfikatora <span class="inline">global.</span>.</p>
  <p>Ta (przestarzała) deklaracja byłaby używana w następujący sposób:</p>
  <p class="code">globalvar food;<br />
    food = 5;</p>
  <p>Po zadeklarowaniu w ten sposób zmienna &quot;food&quot; jest teraz uznawana za globalną i nie wymaga prefiksu <span class="inline">global.</span> - co oznacza również, że o wiele trudniej jest zidentyfikować zmienne globalne w kodzie i o wiele łatwiej jest doprowadzić do nakładania się zmiennych, gdy używasz tej samej nazwy zmiennej w różnych <span class="notranslate">objects</span> lub z zainstalowanej strony <span class="notranslate">extensions</span>. Po zadeklarowaniu zmiennej globalnej w ten sposób dostęp do niej uzyskuje się w następujący sposób:</p>
  <p class="code">food += 2;</p>
  <p>lub:</p>
  <p class="code">draw_text(32, 32, &quot;food = &quot; + string(food));</p>
  <p>Jak widać, nie mając nic, co wskazywałoby na to, że zmienna ma zasięg globalny, potencjalnie narażasz się na wiele subtelnych problemów, które mogą pojawić się w grze, dlatego należy unikać tej deklaracji.</p>
  <p>Istnieje kilka funkcji pomocnych w posługiwaniu się zmiennymi globalnymi, które można znaleźć na następnej stronie:</p>
  <ul class="colour">
    <li><a href="../../GML_Reference/Variable_Functions/Variable_Functions.htm">Funkcje zmienne</a></li>
  </ul>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Powrót: <a href="../Variables_And_Variable_Scope.htm">Zmienne i zakres zmiennych</a></div>
        <div style="float:right">Następny: <a href="Constants.htm">Stałe</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2022 Wszystkie prawa zastrzeżone.</span></h5>
  </div>
  <!-- KEYWORDS
global
globalvar
global variables
-->
  <!-- TAGS
global_variables
-->
</body>
</html>