<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Komunikaty rozsyłane</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../../assets/css/default.css" type="text/css" />
  <script src="../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page detailing the dope sheet" />
  <meta name="rh-index-keywords" content="Sequences - Broadcast Messages" />
  <meta name="search-keywords" content="broadcast,messages,broadcast messages" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>Komunikaty rozsyłane</h1>
  <p>Zarówno <a href="../Sequences.htm">sekwencje</a>, jak i <a href="../../GameMaker_Language/GML_Reference/Asset_Management/Sprites/Sprites.htm">sprite</a> 'y mogą generować tzw. <strong>komunikaty</strong> rozgłoszeniowe w dowolnym punkcie swojej długości. Wiadomości te to proste <span class="notranslate">strings</span>, które są dodawane do określonych klatek animacji <span class="notranslate">timeline</span>, a gdy ten punkt w <span class="notranslate">timeline</span> zostanie osiągnięty, wiadomość <span class="notranslate">string</span> zostanie rozesłana do wszystkich instancji, które jej słuchają. Każda instancja, która posiada <a href="../Object_Properties/Other_Events.htm">zdarzenie Broadcast Message Event</a> (znajdujące się w kategorii zdarzeń &quot;<strong>Inne</strong>&quot;), otrzyma wiadomość <span class="notranslate">string</span>, gdy zostanie ona osiągnięta w <span class="notranslate">timeline</span>, w którym to momencie do Ciebie należy kod, który ją przetworzy i odpowiednio zareaguje. Należy również pamiętać, że <span class="notranslate">sequences</span> może również nasłuchiwać wiadomości nadawanych, ale wymaga to uprzedniego skonfigurowania metody nasłuchiwania za pomocą kodu (więcej informacji na ten temat można znaleźć w części <span class="notranslate">GML</span> poświęconej <a href="../../GameMaker_Language/GML_Reference/Asset_Management/Sequences/Sequence_Events_Moments_Broadcast.htm">zdarzeniom sekwencyjnym i momentom</a> ).</p>
  <p class="note"><strong><span class="note">UWAGA</span></strong> Ustawienie <strong>image_index </strong>instancji bezpośrednio na ramkę <em>nie</em> spowoduje wyzwolenia żadnych komunikatów Broadcast, które mogą być obecne w tej ramce obiektu <span class="notranslate">sprite</span>.</p>
  <p>Aby dodać wiadomość do transmisji na stronie <span class="notranslate">sequence</span> lub <span class="notranslate">sprite</span> <span class="notranslate">timeline</span>, wystarczy kliknąć przycisk <img>. Spowoduje to otwarcie okna dialogowego, w którym można dodać wiadomość przeznaczoną do nadania:</p>
  <p class="dropspot"><img alt="Broadcast Message Button Icon" class="icon" src="../../assets/Images/Icons/Icon_Broadcast.png" /></p>
  <p>Po dodaniu wiadomość zostanie wyświetlona na stronie <span class="notranslate">Dope Sheet</span> (lub w widoku ramki <span class="notranslate">sprite</span> ). Aby go edytować, należy kliknąć prawym przyciskiem myszy <img> na ikonie komunikatu, aby otworzyć listę wszystkich komunikatów, które zachodzą na ramkę (na jednej ramce może znajdować się tylko jeden komunikat, ale umieszczenie wielu komunikatów na kolejnych ramkach spowoduje, że będą się one wizualnie nakładać, co utrudni wybranie pożądanego komunikatu; na tej samej ramce może znajdować się również komunikat i <a href="../../GameMaker_Language/GML_Reference/Asset_Management/Sequences/Sequence_Events_Moments_Broadcast.htm">chwila</a> ), a następnie wybranie jednego z nich z tej listy spowoduje otwarcie okna dialogowego komunikatu, w którym można go edytować lub usunąć.</p>
  <p>Po wyzwoleniu zdarzenia Broadcast Message zostanie utworzona specjalna <a href="../../GameMaker_Language/GML_Reference/Data_Structures/DS_Maps/DS_Maps.htm">mapa DS Map</a>, która będzie przechowywana we wbudowanej zmiennej <span class="inline">event_data</span>. Ta zmienna ID jest wbudowaną zmienną o zasięgu <em>globalnym </em>, ale będzie zawierać dane mapy DS tylko w zdarzeniu, które ją wywołało - w tym przypadku w zdarzeniu Komunikat Broadcast - a w pozostałych przypadkach będzie zwracać wartość -1. Klucze, jakie będzie miało to zdarzenie, są następujące:</p>
  <table>
    <colgroup>
      <col />
      <col />
      <col />
    </colgroup>
    <tbody>
      <tr>
        <th colspan="3"><span data-keyref="Type_Struct_Message_Event"><a data-rhwidget="HyperlinkPopover" href="../../../The_Asset_Editors/Sequence_Properties/Broadcast_Messages.htm">Komunikat Struktura zdarzeń</a></span></th>
      </tr>
      <tr>
        <th>Zmienna</th>
        <th>Typ</th>
        <th>Opis</th>
      </tr>
      <tr>
        <td><span class="inline">event_type</span></td>
        <td><span data-keyref="Type_String"><a data-rhwidget="HyperlinkPopover" href="../../../GameMaker_Language/GML_Overview/Data_Types.htm">String</a></span></td>
        <td>Będzie to <span class="notranslate">string</span> &quot;<span class="inline">sequence event</span>&quot; dla wiadomości wysłanej z adresu <span class="notranslate">Sequence</span> oraz &quot;<span class="inline">sprite event</span>&quot; dla wiadomości wysłanej z adresu <span class="notranslate">Sprite</span>.</td>
      </tr>
      <tr>
        <td><span class="inline">message</span></td>
        <td><span data-keyref="Type_String"><a data-rhwidget="HyperlinkPopover" href="../../../GameMaker_Language/GML_Overview/Data_Types.htm">String</a></span></td>
        <td>Zawiera odebraną wiadomość <span class="notranslate">string</span>.</td>
      </tr>
      <tr>
        <td><span class="inline">element_id</span></td>
        <td><span data-keyref="Type_ID_Layer_Element"><a data-rhwidget="HyperlinkPopover" href="../../../GameMaker_Language/GML_Reference/Asset_Management/Rooms/General_Layer_Functions/layer_get_all_elements.htm">Identyfikator elementu warstwy</a></span></td>
        <td>Zawiera on identyfikator elementu warstwy (sekwencji/spisu/instancji), który wygenerował komunikat. Wartość tego identyfikatora można następnie wykorzystać do sprawdzenia, jaki element wygenerował komunikat, używając funkcji <a href="../../GameMaker_Language/GML_Reference/Asset_Management/Rooms/General_Layer_Functions/layer_get_element_type.htm"><span class="inline">layer_get_element_type()</span></a> oraz użyć innych odpowiednich funkcji, aby skierować komunikat na dany element lub wykonać odpowiednią akcję, np. odtworzyć dźwięk.</td>
      </tr>
    </tbody>
  </table>
  <p>Zauważ, że zdarzenie broadcast message w instancji otrzyma wiele <span class="notranslate">strings</span> dla każdego z przypadków wysłania wiadomości broadcast. Nie musisz działać na wszystkich z nich i możesz mieć różne instancje nasłuchujące różnych wiadomości <span class="notranslate">strings</span>. Może się jednak zdarzyć, że jedna instancja będzie nasłuchiwała wiadomości, które mogą być odebrane w tym samym czasie. W takim przypadku zdarzenie zostanie wywołane wielokrotnie - <em>raz dla każdego ciągu</em> komunikatów.</p>
  <p>Poniżej przedstawiono krótki przykład, jak można sprawdzić to zdarzenie:</p>
  <p class="code">if event_data[? &quot;event_type&quot;] == &quot;sequence event&quot; // or you can check &quot;sprite event&quot;<br />
    {<br />
        switch (event_data[? &quot;message&quot;])<br />
        {<br />
            case &quot;hit&quot;:<br />
                audio_play_sound(snd_hit, 0, false);<br />
            break;<br />
    <br />
            case &quot;destroy&quot;:<br />
                sequence_destroy(event_data[? &quot;element_id&quot;]);<br />
            break;<br />
        }<br />
    }
  </p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Powrót: <a href="../Sequences.htm">Sekwencje</a></div>
        <div style="float:right">Następny: <a href="The_Sequence_Canvas.htm"> <span class="notranslate">Sequence</span> Canvas</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2022 Wszystkie prawa zastrzeżone.</span></h5>
  </div>
  <!-- KEYWORDS
Sequences - Broadcast Messages
Broadcast Messages
-->
  <!-- TAGS
sequences_broadcast_messages
-->
</body>
</html>