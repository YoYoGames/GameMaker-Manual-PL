<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Przykłady źródeł</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../../assets/css/default.css" type="text/css" />
  <script src="../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Gurpreet S. Matharoo" />
  <meta name="topic-comment" content="Page containing extended examples for extensions" />
  <meta name="rh-index-keywords" content="Source Extension Examples" />
  <meta name="search-keywords" content="source android ios extensions native" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>Przykłady źródeł</h1>
  <p>Ta strona zawiera przykłady i informacje na temat kodu źródłowego <span class="notranslate">extension</span> dla <span class="notranslate">Android</span> i <span class="notranslate">iOS</span>, aby ułatwić tworzenie własnych natywnych stron <span class="notranslate">extensions</span> dla tych platform.</p>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down" href="#">Android (przykład podstawowy)</a></p>
  <div class="droptext" data-targetname="drop-down">
    <p>Nasz przykład <span class="notranslate">extension</span> dla <span class="notranslate">Android</span> będzie zawierał funkcje, które wykonują następujące czynności:</p>
    <ul class="dropspotlist">
      <li>Zwróć dwie liczby dodane do siebie</li>
      <li>Zwraca adres <span class="notranslate">string</span> składający się z danych wejściowych <span class="notranslate">string</span> i wartości</li>
      <li>Zwraca adres <span class="notranslate">string</span> składający się z dwóch łańcuchów wejściowych</li>
      <li>Wyzwalaj zdarzenie <a href="../Object_Properties/Async_Events/Social.htm">Async - Social</a> i wypełnij wartości w jego mapie <span class="inline">async_load</span>.</li>
    </ul>
    <p>Ta strona <span class="notranslate">extension</span> będzie korzystać z pliku <span class="inline">.java</span>, którego zawartość podano poniżej (kliknij, aby otworzyć):</p>
    <p class="note"><a data-height="800" data-rhwidget="HyperlinkPopover" data-width="1000" href="Source_Files/GenericTest.htm">GenericTest.java</a></p>
    <p>Aby dodać taki plik do <span class="notranslate">extension</span>, musisz przejść do <a href="Android_Extensions.htm">Właściwości Androida</a> i najpierw wpisać nazwę klasy (w tym przykładzie &quot;GenericTest&quot;), a następnie kliknąć przycisk &quot;Dodaj źródło&quot; i wybrać plik <span class="inline">.java</span>. Spowoduje to dodanie wybranego pliku do katalogu projektu - możesz kliknąć prawym przyciskiem myszy na stronie <span class="notranslate">extension</span>, wybrać opcję &quot;Open in Explorer&quot; (Otwórz w Eksploratorze) i zobaczyć znajdujące się tam pliki źródłowe.</p>
    <p>Można teraz dodać nowy plik zastępczy do witryny <span class="notranslate">extension</span> i utworzyć w nim funkcje o następujących właściwościach:</p>
    <ul class="dropspotlist">
      <li><em>funkcja / nazwa zewnętrzna:</em><span><span> </span></span><span class="inline">AddTwoNumbers</span><br>
        <em>help:</em><span><span> </span></span><span class="inline">AddTwoNumbers(value1, value2)</span><br>
        <em>arguments:</em><span><span> </span></span><span class="inline">double, </span><span class="inline">double</span><br>
        <em>return type:</em><span><span> </span></span><span class="inline">double</span>
      </li>
      <li><em>funkcja / nazwa zewnętrzna:</em><span> </span><span class="inline">HowManyObjects</span><br>
        <em>help:</em><span><span> </span></span><span class="inline">HowManyObjects(value1, value2, string)</span><br>
        <em>arguments:</em><span><span> </span></span><span class="inline">double, </span><span class="inline">double, </span><span class="inline">string</span><br>
        <em>return type:</em><span><span> </span></span><span class="inline">string</span>
      </li>
      <li><em>funkcja / nazwa zewnętrzna:</em><span><span> </span></span><span class="inline">BuildAString</span><br>
        <em>help:</em><span><span> </span></span><span class="inline">BuildAString(string1, string2)</span><br>
        <em>arguments:</em><span><span> </span></span><span class="inline">string, </span><span class="inline">string</span><br>
        <em>return type:</em><span><span> </span></span><span class="inline">string</span>
      </li>
      <li><em>funkcja / nazwa zewnętrzna:</em><span><span> </span></span><span class="inline">ReturnAsync</span><br>
        <em>help:</em><span><span> </span></span><span class="inline">ReturnAsync(value1, value2)</span><br>
        <em>arguments:</em><span><span> </span></span><span class="inline">double,</span><span> </span><span class="inline">double</span><br>
        <em>return type:</em><span><span> </span></span><span class="inline">double</span>
      </li>
    </ul>
    <p>Poniżej znajduje się przykład funkcji <span class="inline">AddTwoNumbers()</span>:</p>
    <p><img>Możesz teraz wywoływać te funkcje z kodu gry i używać ich jak każdej innej funkcji wbudowanej:</p>
    <p class="code">var result1 = string(AddTwoNumbers(irandom(100), 50));<br />
      var result2 = BuildAString(&quot;Hello&quot;, &quot;World&quot;);<br />
      var result3 = HowManyObjects(irandom(1000), irandom(1000), &quot;Targets&quot;);<br />
      ReturnAsync(irandom(1000), irandom(1000));</p>
    <p>Funkcja <span class="inline">ReturnAsync()</span> wywoła zdarzenie <a href="../Object_Properties/Async_Events/Social.htm">Async - Social</a>, więc będziesz musiał dodać to zdarzenie do swojej strony <span class="notranslate">object</span> i odczytać dane z jej mapy <span class="inline">async_load</span> (która jest wypełniona przez kod źródłowy rozszerzenia podany powyżej).</p>
    <p class="code">var type = async_load[? &quot;type&quot;];<br />
      <br />
      if (type == &quot;finished&quot;)<br />
      {<br />
          var result4 = &quot;value1: &quot; + string(async_load[? &quot;argument0&quot;]) + &quot;, &quot;;<br />
          result4 += &quot;value2: &quot; + string(async_load[? &quot;argument1&quot;]);<br />
      }
    </p>
    <p> </p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down1" href="#">iOS (przykład podstawowy)</a></p>
  <div class="droptext" data-targetname="drop-down1">
    <p>Przykład podany na stronie <span class="notranslate">iOS</span> jest taki sam jak przykład <span class="notranslate">Android</span> podany powyżej; różnią się tylko pliki źródłowe, które omówimy w tej części.</p>
    <p>W systemie iOS <span class="notranslate">extensions</span> wykorzystuje się pliki <span class="inline">.h</span> i <span class="inline">.mm</span>, których zawartość podano poniżej (kliknij, aby otworzyć):</p>
    <p class="note"><a data-height="800" data-rhwidget="HyperlinkPopover" data-width="1000" href="Source_Files/GenericTest-iOS.htm">GenericTest <span class="notranslate">iOS</span> Pliki źródłowe</a></p>
    <p>Aby dodać te pliki do <span class="notranslate">extension</span>, musisz najpierw przejść do <a href="iOS_Extensions.htm">Właściwości iOS</a> i wprowadzić nazwę klasy (w tym przykładzie &quot;GenericTest&quot;). Następnie możesz użyć opcji &quot;Enter framework path&quot; (jeśli pliki są obecne na maszynie <span class="notranslate">macOS</span> używanej do budowania) lub opcji &quot;Add Source&quot; (jeśli są na maszynie deweloperskiej); niezależnie od tego, której opcji użyjesz, będziesz musiał wskazać im katalog, który zawiera pliki <span class="inline">.h</span> i <span class="inline">.mm</span>.</p>
    <p>Możesz dodać te pliki źródłowe do tej samej witryny <span class="notranslate">extension</span>, która została utworzona w poprzednim rozdziale dla witryny <span class="notranslate">Android</span>, co oznacza, że wszystkie funkcje zdefiniowane w witrynie <span class="notranslate">extension</span> będą teraz działać także w witrynie <span class="notranslate">iOS</span> (biorąc pod uwagę, że <em>nazwy zewnętrzne</em> wszystkich funkcji w witrynach <span class="notranslate">Android</span> i <span class="notranslate">iOS</span> są takie same). Jeśli tworzysz nową stronę <span class="notranslate">extension</span>, możesz po prostu utworzyć funkcje w taki sam sposób, jak opisano wcześniej.</p>
    <p> </p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down5" href="#">Android (wywołania zwrotne)</a></p>
  <div class="droptext" data-targetname="drop-down5">
    <p>W plikach <span class="inline">.java</span> <span class="notranslate">extension</span> można używać następujących funkcji wywołania zwrotnego:</p>
    <p class="code">public void onStart()<br />public void onRestart()<br />public void onStop()<br />public void onDestroy()<br />public void onPause()<br />public void onResume()<br />public void onActivityResult(int requestCode, int resultCode, Intent data)<br />public void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults)<br />public void onNewIntent(android.content.Intent newIntent)<br />public void onWindowFocusChanged(boolean hasFocus)<br />public void onConfigurationChanged(Configuration newConfig)<br /></p>
    <p><br /></p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down7" href="#">iOS (wywołania zwrotne)</a></p>
  <div class="droptext" data-targetname="drop-down7">
    <p>W plikach <span class="inline">.mm</span> <span class="notranslate">extension</span> można używać następujących funkcji wywołania zwrotnego:</p>
    <p class="code">-(void) Init<br />
      -(void) onLaunch:(NSDictionary*)launchOptions<br />
      -(void) onResume<br />
      -(void) onPause<br />
      -(void) applicationDidEnterBackground:(UIApplication *)application<br />
      -(void) applicationWillEnterForeground:(UIApplication *)application<br />
      -(void) onStop<br />
      -(void) applicationProtectedDataDidBecomeAvailable:(UIApplication *)application<br />
      -(void) applicationProtectedDataWillBecomeUnavailable:(UIApplication *)application<br />
      -(void) applicationDidReceiveMemoryWarning:(UIApplication *)application<br />
      -(void) applicationSignificantTimeChange:(UIApplication *)application<br />
      -(void) application:(UIApplication *)application willEncodeRestorableStateWithCoder:(NSCoder *)coder<br />
      -(void) application:(UIApplication *)application didDecodeRestorableStateWithCoder:(NSCoder *)coder<br />
      -(void) application:(UIApplication *)application didUpdateUserActivity:(NSUserActivity *)userActivity<br />
      -(void) application:(UIApplication *)application didFailToContinueUserActivityWithType:(NSString *)userActivityType error:(NSError *)error<br />
      -(void) application:(UIApplication *)application handleWatchKitExtensionRequest:(NSDictionary *)userInfo reply:(void (^)(NSDictionary *replyInfo))reply<br />
      -(void) applicationShouldRequestHealthAuthorization:(UIApplication *)application<br />
      -(void) openURL:(NSURL *)url sourceApplication:(NSString *) sourceApplication annotation:(id)annotation<br />
      -(void) application:(UIApplication *)application userDidAcceptCloudKitShareWithMetadata:(CKShareMetadata *)cloudKitShareMetadata</p>
    <p> </p>
  </div>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Powrót: <a href="../Extensions.htm">Redaktor <span class="notranslate">Extension</span> </a></div>
        <div style="float:right">Następny: <a href="Creating_An_Extension.htm">Tworzenie rozszerzenia</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2022 Wszystkie prawa zastrzeżone.</span></h5>
  </div>
  <!-- KEYWORDS
Android Extensions
iOS Extensions
Source
Native
java
mm
h
-->
  <!-- TAGS
source_extensions
-->
</body>
</html>